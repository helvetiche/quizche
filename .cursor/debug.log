{"location":"FlashcardMaker.tsx:328","message":"FlashcardMaker: submitting flashcard","data":{"flashcardId":null,"hasIdToken":true,"idTokenLength":1212,"method":"POST"},"timestamp":1767704051955,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"api.ts:45","message":"apiFetch: fetching CSRF token","data":{"url":"/api/flashcards","method":"POST","needsCSRF":true,"idTokenPresent":true},"timestamp":1767704051957,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"csrf.ts:45","message":"getCSRFToken called","data":{"idTokenPresent":true,"hasCachedToken":false,"tokenExpiry":0},"timestamp":1767704051957,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"app/lib/csrf.ts:15","message":"fetchCSRFToken called","data":{"idTokenPresent":true,"idTokenLength":1212},"timestamp":1767704051958,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/lib/csrf.ts:26","message":"CSRF fetch response received","data":{"status":200,"ok":true},"timestamp":1767704052619,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/lib/csrf.ts:36","message":"CSRF token extracted","data":{"tokenPresent":true,"tokenLength":64,"hasCsrfTokenInData":true},"timestamp":1767704052620,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"csrf.ts:62","message":"getCSRFToken: fetched new token","data":{"tokenPresent":true,"tokenLength":64},"timestamp":1767704052621,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"api.ts:48","message":"apiFetch: CSRF token received","data":{"tokenPresent":true,"tokenLength":64},"timestamp":1767704052622,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"api.ts:51","message":"apiFetch: CSRF token added to headers","data":{"hasCsrfHeader":true},"timestamp":1767704052622,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"api.ts:68","message":"apiFetch: making request","data":{"url":"/api/flashcards","method":"POST","hasCsrfHeader":true,"hasAuthHeader":true,"csrfTokenLength":64},"timestamp":1767704052623,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF verification started","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenPresent":true,"tokenLength":64,"hasHeader":true},"timestamp":1767704052861,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF token validation result","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenLength":64,"isValid":false},"timestamp":1767704053139,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF token invalid","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenPresent":true,"tokenLength":64},"timestamp":1767704053142,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"api.ts:75","message":"apiFetch: response received","data":{"status":403,"ok":false},"timestamp":1767704053153,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"csrf.ts:45","message":"getCSRFToken called","data":{"idTokenPresent":true,"hasCachedToken":false,"tokenExpiry":0},"timestamp":1767704053157,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"app/lib/csrf.ts:15","message":"fetchCSRFToken called","data":{"idTokenPresent":true,"idTokenLength":1212},"timestamp":1767704053158,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/lib/csrf.ts:26","message":"CSRF fetch response received","data":{"status":200,"ok":true},"timestamp":1767704053366,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/lib/csrf.ts:36","message":"CSRF token extracted","data":{"tokenPresent":true,"tokenLength":64,"hasCsrfTokenInData":true},"timestamp":1767704053369,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"csrf.ts:62","message":"getCSRFToken: fetched new token","data":{"tokenPresent":true,"tokenLength":64},"timestamp":1767704053370,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF verification started","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenPresent":true,"tokenLength":64,"hasHeader":true},"timestamp":1767704053574,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF token validation result","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenLength":64,"isValid":false},"timestamp":1767704053842,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF token invalid","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenPresent":true,"tokenLength":64},"timestamp":1767704053846,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"FlashcardMaker.tsx:345","message":"FlashcardMaker: response received","data":{"status":403,"ok":false},"timestamp":1767704053849,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"FlashcardMaker.tsx:328","message":"FlashcardMaker: submitting flashcard","data":{"flashcardId":null,"hasIdToken":true,"idTokenLength":1212,"method":"POST"},"timestamp":1767704070237,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"api.ts:45","message":"apiFetch: fetching CSRF token","data":{"url":"/api/flashcards","method":"POST","needsCSRF":true,"idTokenPresent":true},"timestamp":1767704070258,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"csrf.ts:45","message":"getCSRFToken called","data":{"idTokenPresent":true,"hasCachedToken":false,"tokenExpiry":0},"timestamp":1767704070258,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"app/lib/csrf.ts:15","message":"fetchCSRFToken called","data":{"idTokenPresent":true,"idTokenLength":1212},"timestamp":1767704070258,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/lib/csrf.ts:26","message":"CSRF fetch response received","data":{"status":200,"ok":true},"timestamp":1767704070702,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/lib/csrf.ts:36","message":"CSRF token extracted","data":{"tokenPresent":true,"tokenLength":64,"hasCsrfTokenInData":true},"timestamp":1767704070703,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"csrf.ts:62","message":"getCSRFToken: fetched new token","data":{"tokenPresent":true,"tokenLength":64},"timestamp":1767704070703,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"api.ts:48","message":"apiFetch: CSRF token received","data":{"tokenPresent":true,"tokenLength":64},"timestamp":1767704070704,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"api.ts:51","message":"apiFetch: CSRF token added to headers","data":{"hasCsrfHeader":true},"timestamp":1767704070704,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"api.ts:68","message":"apiFetch: making request","data":{"url":"/api/flashcards","method":"POST","hasCsrfHeader":true,"hasAuthHeader":true,"csrfTokenLength":64},"timestamp":1767704070704,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF verification started","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenPresent":true,"tokenLength":64,"hasHeader":true},"timestamp":1767704070966,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF token validation result","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenLength":64,"isValid":false},"timestamp":1767704071159,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF token invalid","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenPresent":true,"tokenLength":64},"timestamp":1767704071164,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"api.ts:75","message":"apiFetch: response received","data":{"status":403,"ok":false},"timestamp":1767704071173,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"csrf.ts:45","message":"getCSRFToken called","data":{"idTokenPresent":true,"hasCachedToken":false,"tokenExpiry":0},"timestamp":1767704071174,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"app/lib/csrf.ts:15","message":"fetchCSRFToken called","data":{"idTokenPresent":true,"idTokenLength":1212},"timestamp":1767704071174,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/lib/csrf.ts:26","message":"CSRF fetch response received","data":{"status":200,"ok":true},"timestamp":1767704071373,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/lib/csrf.ts:36","message":"CSRF token extracted","data":{"tokenPresent":true,"tokenLength":64,"hasCsrfTokenInData":true},"timestamp":1767704071374,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"csrf.ts:62","message":"getCSRFToken: fetched new token","data":{"tokenPresent":true,"tokenLength":64},"timestamp":1767704071375,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF verification started","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenPresent":true,"tokenLength":64,"hasHeader":true},"timestamp":1767704071572,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF token validation result","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenLength":64,"isValid":false},"timestamp":1767704071763,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF token invalid","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenPresent":true,"tokenLength":64},"timestamp":1767704071766,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"FlashcardMaker.tsx:345","message":"FlashcardMaker: response received","data":{"status":403,"ok":false},"timestamp":1767704071772,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"api.ts:45","message":"apiFetch: fetching CSRF token","data":{"url":"/api/flashcards","method":"POST","needsCSRF":true,"idTokenPresent":true},"timestamp":1767704142002,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"FlashcardMaker.tsx:328","message":"FlashcardMaker: submitting flashcard","data":{"flashcardId":null,"hasIdToken":true,"idTokenLength":1212,"method":"POST"},"timestamp":1767704142001,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"csrf.ts:45","message":"getCSRFToken called","data":{"idTokenPresent":true,"hasCachedToken":true,"tokenExpiry":1767707671174},"timestamp":1767704142002,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"api.ts:51","message":"apiFetch: CSRF token added to headers","data":{"hasCsrfHeader":true},"timestamp":1767704142002,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"csrf.ts:54","message":"getCSRFToken: returning cached token","data":{"tokenLength":64},"timestamp":1767704142002,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"api.ts:68","message":"apiFetch: making request","data":{"url":"/api/flashcards","method":"POST","hasCsrfHeader":true,"hasAuthHeader":true,"csrfTokenLength":64},"timestamp":1767704142002,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"api.ts:48","message":"apiFetch: CSRF token received","data":{"tokenPresent":true,"tokenLength":64},"timestamp":1767704142002,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF verification started","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenPresent":true,"tokenLength":64,"hasHeader":true},"timestamp":1767704142691,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRFToken","message":"Redis lookup starting","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","key":"csrf:zHcKzzLGwjSDKLNoPTgccU85As22:be452ee2f963aa95277c58e1bdb3be2157ab598bacca6c902e59d322f8524e51","tokenLength":64},"timestamp":1767704142694,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRFToken","message":"Redis lookup result","data":{"stored":1,"storedType":"number","storedValue":"1","equalsOne":false,"strictEqualsOne":false},"timestamp":1767704142877,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF token validation result","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenLength":64,"isValid":false},"timestamp":1767704142878,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF token invalid","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenPresent":true,"tokenLength":64},"timestamp":1767704142879,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"api.ts:75","message":"apiFetch: response received","data":{"status":403,"ok":false},"timestamp":1767704142881,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"csrf.ts:45","message":"getCSRFToken called","data":{"idTokenPresent":true,"hasCachedToken":false,"tokenExpiry":0},"timestamp":1767704142882,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"app/lib/csrf.ts:15","message":"fetchCSRFToken called","data":{"idTokenPresent":true,"idTokenLength":1212},"timestamp":1767704142882,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/csrf.ts:generateCSRFToken","message":"Storing CSRF token in Redis","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","key":"csrf:zHcKzzLGwjSDKLNoPTgccU85As22:ee724ce70efbb83257be0e2708fee5737874d2a5ef6092966b3ecff5a0fd5a93","tokenLength":64,"expiry":3600},"timestamp":1767704142911,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:generateCSRFToken","message":"CSRF token stored, verifying","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","key":"csrf:zHcKzzLGwjSDKLNoPTgccU85As22:ee724ce70efbb83257be0e2708fee5737874d2a5ef6092966b3ecff5a0fd5a93"},"timestamp":1767704143226,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:generateCSRFToken","message":"CSRF token storage verification","data":{"verifyStored":1,"verifyStoredType":"number","verifyStoredValue":"1"},"timestamp":1767704143498,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/lib/csrf.ts:26","message":"CSRF fetch response received","data":{"status":200,"ok":true},"timestamp":1767704143501,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/lib/csrf.ts:36","message":"CSRF token extracted","data":{"tokenPresent":true,"tokenLength":64,"hasCsrfTokenInData":true},"timestamp":1767704143502,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"csrf.ts:62","message":"getCSRFToken: fetched new token","data":{"tokenPresent":true,"tokenLength":64},"timestamp":1767704143502,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF verification started","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenPresent":true,"tokenLength":64,"hasHeader":true},"timestamp":1767704143691,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRFToken","message":"Redis lookup starting","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","key":"csrf:zHcKzzLGwjSDKLNoPTgccU85As22:ee724ce70efbb83257be0e2708fee5737874d2a5ef6092966b3ecff5a0fd5a93","tokenLength":64},"timestamp":1767704143692,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRFToken","message":"Redis lookup result","data":{"stored":1,"storedType":"number","storedValue":"1","equalsOne":false,"strictEqualsOne":false},"timestamp":1767704143875,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF token validation result","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenLength":64,"isValid":false},"timestamp":1767704143876,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF token invalid","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenPresent":true,"tokenLength":64},"timestamp":1767704143877,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"FlashcardMaker.tsx:345","message":"FlashcardMaker: response received","data":{"status":403,"ok":false},"timestamp":1767704143878,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"FlashcardMaker.tsx:328","message":"FlashcardMaker: submitting flashcard","data":{"flashcardId":null,"hasIdToken":true,"idTokenLength":1212,"method":"POST"},"timestamp":1767704156939,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"api.ts:45","message":"apiFetch: fetching CSRF token","data":{"url":"/api/flashcards","method":"POST","needsCSRF":true,"idTokenPresent":true},"timestamp":1767704156969,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"csrf.ts:45","message":"getCSRFToken called","data":{"idTokenPresent":true,"hasCachedToken":false,"tokenExpiry":0},"timestamp":1767704156970,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"app/lib/csrf.ts:15","message":"fetchCSRFToken called","data":{"idTokenPresent":true,"idTokenLength":1212},"timestamp":1767704156970,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/csrf.ts:generateCSRFToken","message":"Storing CSRF token in Redis","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","key":"csrf:zHcKzzLGwjSDKLNoPTgccU85As22:fac4549ab67ecc2f265dd5ab668b06832acfd845ff09b40fc8eb9b1bfcd3f66a","tokenLength":64,"expiry":3600},"timestamp":1767704157006,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:generateCSRFToken","message":"CSRF token stored, verifying","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","key":"csrf:zHcKzzLGwjSDKLNoPTgccU85As22:fac4549ab67ecc2f265dd5ab668b06832acfd845ff09b40fc8eb9b1bfcd3f66a"},"timestamp":1767704157325,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:generateCSRFToken","message":"CSRF token storage verification","data":{"verifyStored":1,"verifyStoredType":"number","verifyStoredValue":"1"},"timestamp":1767704157517,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/lib/csrf.ts:26","message":"CSRF fetch response received","data":{"status":200,"ok":true},"timestamp":1767704157523,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/lib/csrf.ts:36","message":"CSRF token extracted","data":{"tokenPresent":true,"tokenLength":64,"hasCsrfTokenInData":true},"timestamp":1767704157525,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"csrf.ts:62","message":"getCSRFToken: fetched new token","data":{"tokenPresent":true,"tokenLength":64},"timestamp":1767704157525,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"api.ts:48","message":"apiFetch: CSRF token received","data":{"tokenPresent":true,"tokenLength":64},"timestamp":1767704157525,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"api.ts:51","message":"apiFetch: CSRF token added to headers","data":{"hasCsrfHeader":true},"timestamp":1767704157525,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"api.ts:68","message":"apiFetch: making request","data":{"url":"/api/flashcards","method":"POST","hasCsrfHeader":true,"hasAuthHeader":true,"csrfTokenLength":64},"timestamp":1767704157525,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF verification started","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenPresent":true,"tokenLength":64,"hasHeader":true},"timestamp":1767704157750,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRFToken","message":"Redis lookup starting","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","key":"csrf:zHcKzzLGwjSDKLNoPTgccU85As22:fac4549ab67ecc2f265dd5ab668b06832acfd845ff09b40fc8eb9b1bfcd3f66a","tokenLength":64},"timestamp":1767704157757,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRFToken","message":"Redis lookup result","data":{"stored":1,"storedType":"number","storedValue":"1","equalsOne":false,"strictEqualsOne":false},"timestamp":1767704157998,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF token validation result","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenLength":64,"isValid":false},"timestamp":1767704158004,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF token invalid","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenPresent":true,"tokenLength":64},"timestamp":1767704158006,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"api.ts:75","message":"apiFetch: response received","data":{"status":403,"ok":false},"timestamp":1767704158010,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"csrf.ts:45","message":"getCSRFToken called","data":{"idTokenPresent":true,"hasCachedToken":false,"tokenExpiry":0},"timestamp":1767704158011,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"app/lib/csrf.ts:15","message":"fetchCSRFToken called","data":{"idTokenPresent":true,"idTokenLength":1212},"timestamp":1767704158012,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/csrf.ts:generateCSRFToken","message":"Storing CSRF token in Redis","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","key":"csrf:zHcKzzLGwjSDKLNoPTgccU85As22:e9d9602957a324bf1b98055a116524aac1c4e33e78df3486f0a5b44352ce58b8","tokenLength":64,"expiry":3600},"timestamp":1767704158030,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:generateCSRFToken","message":"CSRF token stored, verifying","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","key":"csrf:zHcKzzLGwjSDKLNoPTgccU85As22:e9d9602957a324bf1b98055a116524aac1c4e33e78df3486f0a5b44352ce58b8"},"timestamp":1767704158221,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:generateCSRFToken","message":"CSRF token storage verification","data":{"verifyStored":1,"verifyStoredType":"number","verifyStoredValue":"1"},"timestamp":1767704158412,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/lib/csrf.ts:26","message":"CSRF fetch response received","data":{"status":200,"ok":true},"timestamp":1767704158418,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/lib/csrf.ts:36","message":"CSRF token extracted","data":{"tokenPresent":true,"tokenLength":64,"hasCsrfTokenInData":true},"timestamp":1767704158419,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"csrf.ts:62","message":"getCSRFToken: fetched new token","data":{"tokenPresent":true,"tokenLength":64},"timestamp":1767704158420,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF verification started","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenPresent":true,"tokenLength":64,"hasHeader":true},"timestamp":1767704158616,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRFToken","message":"Redis lookup starting","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","key":"csrf:zHcKzzLGwjSDKLNoPTgccU85As22:e9d9602957a324bf1b98055a116524aac1c4e33e78df3486f0a5b44352ce58b8","tokenLength":64},"timestamp":1767704158622,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRFToken","message":"Redis lookup result","data":{"stored":1,"storedType":"number","storedValue":"1","equalsOne":false,"strictEqualsOne":false},"timestamp":1767704158812,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF token validation result","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenLength":64,"isValid":false},"timestamp":1767704158816,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF token invalid","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenPresent":true,"tokenLength":64},"timestamp":1767704158823,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"FlashcardMaker.tsx:345","message":"FlashcardMaker: response received","data":{"status":403,"ok":false},"timestamp":1767704158831,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"FlashcardMaker.tsx:328","message":"FlashcardMaker: submitting flashcard","data":{"flashcardId":null,"hasIdToken":true,"idTokenLength":1212,"method":"POST"},"timestamp":1767704392025,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"csrf.ts:45","message":"getCSRFToken called","data":{"idTokenPresent":true,"hasCachedToken":true,"tokenExpiry":1767707758012},"timestamp":1767704392026,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"csrf.ts:54","message":"getCSRFToken: returning cached token","data":{"tokenLength":64},"timestamp":1767704392026,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"api.ts:68","message":"apiFetch: making request","data":{"url":"/api/flashcards","method":"POST","hasCsrfHeader":true,"hasAuthHeader":true,"csrfTokenLength":64},"timestamp":1767704392027,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF verification started","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenPresent":true,"tokenLength":64,"hasHeader":true},"timestamp":1767704392505,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRFToken","message":"Redis lookup starting","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","key":"csrf:zHcKzzLGwjSDKLNoPTgccU85As22:e9d9602957a324bf1b98055a116524aac1c4e33e78df3486f0a5b44352ce58b8","tokenLength":64},"timestamp":1767704392513,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRFToken","message":"Redis lookup result","data":{"stored":1,"storedType":"number","storedValue":"1","equalsOne":false,"strictEqualsOne":false},"timestamp":1767704392693,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF token validation result","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenLength":64,"isValid":true},"timestamp":1767704392696,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"api.ts:75","message":"apiFetch: response received","data":{"status":201,"ok":true},"timestamp":1767704393414,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"FlashcardMaker.tsx:345","message":"FlashcardMaker: response received","data":{"status":201,"ok":true},"timestamp":1767704393415,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"api.ts:68","message":"apiFetch: making request","data":{"url":"/api/flashcards/qD9cw3iOtdVLh4BHXliZ","method":"GET","hasCsrfHeader":false,"hasAuthHeader":true,"csrfTokenLength":0},"timestamp":1767704400064,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"api.ts:68","message":"apiFetch: making request","data":{"url":"/api/flashcards/qD9cw3iOtdVLh4BHXliZ","method":"GET","hasCsrfHeader":false,"hasAuthHeader":true,"csrfTokenLength":0},"timestamp":1767704400064,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"api.ts:75","message":"apiFetch: response received","data":{"status":200,"ok":true},"timestamp":1767704401805,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"api.ts:75","message":"apiFetch: response received","data":{"status":200,"ok":true},"timestamp":1767704401807,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"FlashcardMaker.tsx:328","message":"FlashcardMaker: submitting flashcard","data":{"flashcardId":"qD9cw3iOtdVLh4BHXliZ","hasIdToken":true,"idTokenLength":1212,"method":"PUT"},"timestamp":1767704406207,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"csrf.ts:45","message":"getCSRFToken called","data":{"idTokenPresent":true,"hasCachedToken":true,"tokenExpiry":1767707758012},"timestamp":1767704406208,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"csrf.ts:54","message":"getCSRFToken: returning cached token","data":{"tokenLength":64},"timestamp":1767704406209,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"api.ts:68","message":"apiFetch: making request","data":{"url":"/api/flashcards/qD9cw3iOtdVLh4BHXliZ","method":"PUT","hasCsrfHeader":true,"hasAuthHeader":true,"csrfTokenLength":64},"timestamp":1767704406209,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF verification started","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenPresent":true,"tokenLength":64,"hasHeader":true},"timestamp":1767704406248,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRFToken","message":"Redis lookup starting","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","key":"csrf:zHcKzzLGwjSDKLNoPTgccU85As22:e9d9602957a324bf1b98055a116524aac1c4e33e78df3486f0a5b44352ce58b8","tokenLength":64},"timestamp":1767704406253,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRFToken","message":"Redis lookup result","data":{"stored":1,"storedType":"number","storedValue":"1","equalsOne":false,"strictEqualsOne":false},"timestamp":1767704406660,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF token validation result","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenLength":64,"isValid":true},"timestamp":1767704406661,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"api.ts:75","message":"apiFetch: response received","data":{"status":200,"ok":true},"timestamp":1767704406826,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"FlashcardMaker.tsx:345","message":"FlashcardMaker: response received","data":{"status":200,"ok":true},"timestamp":1767704406827,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF verification started","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenPresent":false,"tokenLength":0,"hasHeader":false},"timestamp":1767704423862,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRFToken","message":"Token validation: invalid length or null","data":{"tokenPresent":false,"tokenLength":0,"expectedLength":64},"timestamp":1767704423868,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF token validation result","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenLength":0,"isValid":false},"timestamp":1767704423871,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF token invalid","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenPresent":false,"tokenLength":0},"timestamp":1767704423874,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"csrf.ts:45","message":"getCSRFToken called","data":{"idTokenPresent":true,"hasCachedToken":true,"tokenExpiry":1767707758012},"timestamp":1767704616053,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"csrf.ts:54","message":"getCSRFToken: returning cached token","data":{"tokenLength":64},"timestamp":1767704616054,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"api.ts:68","message":"apiFetch: making request","data":{"url":"/api/users/profile","method":"PUT","hasCsrfHeader":true,"hasAuthHeader":true,"csrfTokenLength":64},"timestamp":1767704616054,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF verification started","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenPresent":true,"tokenLength":64,"hasHeader":true},"timestamp":1767704616562,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRFToken","message":"Redis lookup starting","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","key":"csrf:zHcKzzLGwjSDKLNoPTgccU85As22:e9d9602957a324bf1b98055a116524aac1c4e33e78df3486f0a5b44352ce58b8","tokenLength":64},"timestamp":1767704616568,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRFToken","message":"Redis lookup result","data":{"stored":1,"storedType":"number","storedValue":"1","equalsOne":false,"strictEqualsOne":false},"timestamp":1767704616765,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF token validation result","data":{"userId":"zHcKzzLGwjSDKLNoPTgccU85As22","tokenLength":64,"isValid":true},"timestamp":1767704616768,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"api.ts:75","message":"apiFetch: response received","data":{"status":200,"ok":true},"timestamp":1767704617328,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"csrf.ts:45","message":"getCSRFToken called","data":{"idTokenPresent":true,"hasCachedToken":false,"tokenExpiry":0},"timestamp":1767705142618,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"app/lib/csrf.ts:15","message":"fetchCSRFToken called","data":{"idTokenPresent":true,"idTokenLength":1182},"timestamp":1767705142618,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/csrf.ts:generateCSRFToken","message":"Storing CSRF token in Redis","data":{"userId":"N3bNHESzevSQtzArvckH7V7sSFE3","key":"csrf:N3bNHESzevSQtzArvckH7V7sSFE3:d5335975e78cfd4e520019a54300c6f62f08cf5f7a4da50f03c6619e15ac7c0e","tokenLength":64,"expiry":3600},"timestamp":1767705142668,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:generateCSRFToken","message":"CSRF token stored, verifying","data":{"userId":"N3bNHESzevSQtzArvckH7V7sSFE3","key":"csrf:N3bNHESzevSQtzArvckH7V7sSFE3:d5335975e78cfd4e520019a54300c6f62f08cf5f7a4da50f03c6619e15ac7c0e"},"timestamp":1767705143621,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:generateCSRFToken","message":"CSRF token storage verification","data":{"verifyStored":1,"verifyStoredType":"number","verifyStoredValue":"1"},"timestamp":1767705143995,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/lib/csrf.ts:26","message":"CSRF fetch response received","data":{"status":200,"ok":true},"timestamp":1767705144002,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/lib/csrf.ts:36","message":"CSRF token extracted","data":{"tokenPresent":true,"tokenLength":64,"hasCsrfTokenInData":true},"timestamp":1767705144004,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"csrf.ts:62","message":"getCSRFToken: fetched new token","data":{"tokenPresent":true,"tokenLength":64},"timestamp":1767705144004,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"api.ts:68","message":"apiFetch: making request","data":{"url":"/api/quizzes","method":"POST","hasCsrfHeader":true,"hasAuthHeader":true,"csrfTokenLength":64},"timestamp":1767705144004,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF verification started","data":{"userId":"N3bNHESzevSQtzArvckH7V7sSFE3","tokenPresent":true,"tokenLength":64,"hasHeader":true},"timestamp":1767705144335,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRFToken","message":"Redis lookup starting","data":{"userId":"N3bNHESzevSQtzArvckH7V7sSFE3","key":"csrf:N3bNHESzevSQtzArvckH7V7sSFE3:d5335975e78cfd4e520019a54300c6f62f08cf5f7a4da50f03c6619e15ac7c0e","tokenLength":64},"timestamp":1767705144342,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRFToken","message":"Redis lookup result","data":{"stored":1,"storedType":"number","storedValue":"1","equalsOne":false,"strictEqualsOne":false},"timestamp":1767705144534,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/csrf.ts:verifyCSRF","message":"Server: CSRF token validation result","data":{"userId":"N3bNHESzevSQtzArvckH7V7sSFE3","tokenLength":64,"isValid":true},"timestamp":1767705144536,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"api.ts:75","message":"apiFetch: response received","data":{"status":201,"ok":true},"timestamp":1767705144857,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
